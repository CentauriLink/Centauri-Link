#:kivy 2.3.0

<GradientButton@Button>:
    background_color: 0,0,0,0
    color: 1,1,1,1
    font_size: "16sp"
    bold: True
    canvas.before:
        Color:
            rgba: 0.12, 0.65, 0.85, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [18]

<SecondaryButton@Button>:
    background_color: 0,0,0,0
    color: 0.8,0.9,1,1
    font_size: "15sp"
    canvas.before:
        Color:
            rgba: 0.18, 0.22, 0.3, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [18]

<Card@BoxLayout>:
    orientation: "vertical"
    padding: 16
    spacing: 10
    canvas.before:
        Color:
            rgba: 0.12, 0.14, 0.18, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20]

<ScreenRoot@BoxLayout>:
    orientation: "vertical"
    padding: 20
    spacing: 18
    canvas.before:
        Color:
            rgba: 0.06, 0.07, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

<Header@BoxLayout>:
    size_hint_y: None
    height: "90dp"
    orientation: "horizontal"
    spacing: 15

# Home Screen
<HomeScreen>:
    ScreenRoot:
        Header:
            Image:
                source: "assets/logo.png"
                size_hint_x: None
                width: "70dp"
                allow_stretch: True
                keep_ratio: True
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "CentauriLink"
                    font_size: "26sp"
                    bold: True
                    halign: "left"
                Label:
                    text: "Elegoo Centauri Carbon"
                    font_size: "14sp"
                    color: 0.6,0.7,0.8,1
                    halign: "left"

        Card:
            Label:
                text: "Printer Temperatures"
                font_size: "18sp"
                bold: True
            Label:
                text: "Nozzle • 215°C"
            ProgressBar:
                max: 300
                value: 215
            Label:
                text: "Build Plate • 65°C"
            ProgressBar:
                max: 120
                value: 65
            Label:
                text: "Chamber • 38°C"
            ProgressBar:
                max: 80
                value: 38

        Widget:

        GradientButton:
            text: "Open Print Control"
            size_hint_y: None
            height: "55dp"
            on_press: app.root.current = "print"

        SecondaryButton:
            text: "Settings"
            size_hint_y: None
            height: "50dp"
            on_press: app.root.current = "settings"

# Print Screen
<PrintScreen>:
    ScreenRoot:
        Header:
            Label:
                text: "Print Control"
                font_size: "26sp"
                bold: True

        Card:
            Label:
                text: root.status_text
                font_size: "16sp"
                bold: True

        BoxLayout:
            size_hint_y: None
            height: "60dp"
            spacing: 12
            GradientButton:
                text: "Search Printer"
                on_press: root.search_printer()
            GradientButton:
                text: "Connect"
                on_press: root.connect_printer()

        Card:
            Label:
                text: "Discovered Devices"
                font_size: "16sp"
                bold: True
            ScrollView:
                size_hint_y: None
                height: "180dp"
                do_scroll_x: False
                GridLayout:
                    id: device_list
                    cols: 1
                    size_hint_y: None
                    row_default_height: 44
                    spacing: 8
                    padding: 4
                    height: self.minimum_height

        Widget:

        SecondaryButton:
            text: "Back to Home"
            size_hint_y: None
            height: "50dp"
            on_press: app.root.current = "home"

# Settings Screen
<SettingsScreen>:
    ScreenRoot:
        Header:
            Label:
                text: "Settings"
                font_size: "26sp"
                bold: True

        Card:
            Label:
                text: "Printer Connection"
                font_size: "18sp"
                bold: True
            Label:
                text: "Status: Not connected"
                color: 0.7,0.7,0.7,1

        Card:
            Label:
                text: "Application"
                font_size: "18sp"
                bold: True
            Label:
                text: "Theme: Dark"
            Label:
                text: "Version: Prototype UI"

        Widget:

        SecondaryButton:
            text: "Back"
            size_hint_y: None
            height: "50dp"
            on_press: app.root.current = "home"

